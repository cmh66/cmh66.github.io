<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM定时器 - 相框选择器</title>
    <style>
        .frame-container {
            text-align: center;
            margin: 20px;
            font-family: Arial, sans-serif;
        }
        .big-frame {
            width: 400px;
            height: 300px;
            margin: 0 auto 20px;
            border: 5px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .big-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .big-frame img:hover {
            transform: scale(1.02);
        }
        .small-frames {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .small-img {
            width: 80px;
            height: 60px;
            border: 3px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            object-fit: cover;
        }
        .small-img.active {
            border-color: #ff6600;
            box-shadow: 0 0 0 2px rgba(255,102,0,0.3);
        }
        .small-img:hover:not(.active) {
            border-color: #ccc;
            transform: scale(1.05);
        }
        button {
            padding: 10px 20px;
            margin: 0 8px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }
        #start-btn {
            background-color: #4CAF50;
            color: white;
        }
        #start-btn:disabled {
            background-color: #a5d6a7;
            cursor: not-allowed;
        }
        #stop-btn {
            background-color: #f44336;
            color: white;
        }
        #stop-btn:disabled {
            background-color: #ef9a9a;
            cursor: not-allowed;
        }
        button:hover:not(:disabled) {
            opacity: 0.9;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="frame-container">
        <!-- 大相框（显示选中的图片） -->
        <div class="big-frame">
            <img id="big-img" src="css/1.jpg" alt="选中的图片">
        </div>
        
        <!-- 小相框列表（可选择的图片） -->
        <div class="small-frames" id="small-frames">
            <img src="css/1.jpg" alt="图片1" class="small-img active">
            <img src="css/2.jpg" alt="图片2" class="small-img">
            <img src="css/3.jpg" alt="图片3" class="small-img">
            <img src="css/4.jpg" alt="图片4" class="small-img">
            
        </div>
        
        <!-- 控制按钮 -->
        <button id="start-btn">开始自动选择</button>
        <button id="stop-btn" disabled>停止</button>
    </div>

    <script>
        // 1. 获取DOM元素
        const bigImg = document.getElementById('big-img');
        const smallImgs = document.querySelectorAll('.small-img');
        const startBtn = document.getElementById('start-btn');
        const stopBtn = document.getElementById('stop-btn');

        let timerId = null; // 定时器ID
        let currentIndex = 0; // 当前选中的小相框索引

        // 2. 切换图片的函数（更新大相框+小相框选中状态）
        function switchImage(index) {
            // 移除之前选中的小相框样式
            smallImgs.forEach(img => img.classList.remove('active'));
            // 更新当前选中的小相框
            smallImgs[index].classList.add('active');
            // 更新大相框的图片（添加淡入效果）
            bigImg.style.opacity = '0';
            setTimeout(() => {
                bigImg.src = smallImgs[index].src;
                bigImg.style.opacity = '1';
            }, 300);
            currentIndex = index;
        }

        // 3. 自动切换（定时器逻辑）
        function startAutoSwitch() {
            // 每2秒切换一次图片（循环切换）
            timerId = setInterval(() => {
                currentIndex = (currentIndex + 1) % smallImgs.length;
                switchImage(currentIndex);
            }, 2000);
            
            // 切换按钮状态
            startBtn.disabled = true;
            stopBtn.disabled = false;
        }

        // 4. 停止自动切换
        function stopAutoSwitch() {
            clearInterval(timerId); // 清除定时器
            timerId = null;
            
            // 切换按钮状态
            startBtn.disabled = false;
            stopBtn.disabled = true;
        }

        // 5. 绑定事件
        // 点击小相框手动切换
        smallImgs.forEach((img, index) => {
            img.addEventListener('click', () => {
                if (timerId) stopAutoSwitch(); // 自动切换时点击手动切换，先停止自动模式
                switchImage(index);
            });
        });

        // 开始/停止按钮事件
        startBtn.addEventListener('click', startAutoSwitch);
        stopBtn.addEventListener('click', stopAutoSwitch);
    </script>
</body>
</html>